{"ast":null,"code":"import { BaseMessageSignerWalletAdapter, scopePollingDetectionStrategy, WalletConnectionError, WalletDisconnectionError, WalletNotConnectedError, WalletNotReadyError, WalletReadyState, WalletSignTransactionError, WalletDecryptionNotAllowedError, WalletDecryptionError, WalletRecordsError, DecryptPermission, WalletTransactionError } from '@demox-labs/aleo-wallet-adapter-base';\nexport const FoxWalletName = 'Fox Wallet';\nexport class FoxWalletAdapter extends BaseMessageSignerWalletAdapter {\n  name = FoxWalletName;\n  url = 'https://foxwallet.com/download';\n  icon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTAwIiBoZWlnaHQ9IjkwMCIgdmlld0JveD0iMCAwIDkwMCA5MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI5MDAiIGhlaWdodD0iOTAwIiByeD0iNDUwIiBmaWxsPSJibGFjayIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTU3Ny4yNDkgMjE1Ljk3NUM1MzkuOTU2IDE5Ni4yMzIgNTExLjY0NiAxNjEuNTQ5IDUwMC40NjggMTE5Ljg2OEM0OTcuMDIxIDEzMi42MTMgNDk1LjI0NSAxNDUuOTg0IDQ5NS4yNDUgMTU5Ljc3NEM0OTUuMjQ1IDE3MC41MzMgNDk2LjM5NCAxODAuOTggNDk4LjQ4MyAxOTEuMTEzQzQ5OC40ODMgMTkxLjExMyA0OTguNDgzIDE5MS4xMTMgNDk4LjQ4MyAxOTEuMjE3QzQ5OC40ODMgMTkxLjMyMiA0OTguNTg4IDE5MS41MzEgNDk4LjU4OCAxOTEuNjM1QzUwMS40MDggMjA1LjIxNiA1MDYuMDA1IDIxOC4wNjUgNTEyLjE2OCAyMjkuOTc0QzQ5OS4wMDYgMjIwLjI1OCA0ODcuMzA2IDIwOC42NjMgNDc3LjQ4NiAxOTUuNjA1QzQ2NC4zMjMgMjk3LjY2NyA1MDEuNDA4IDQwMy45MDcgNTY5LjIwNiA0NzMuODk4QzY1Ny42ODcgNTc2LjkgNTc2LjEgNzUxLjY2OSA0MzguMjA3IDc0Ny4wNzNDMjQzLjA2OCA3NDguNzQ0IDIwOS42MzkgNDYxLjM2MiAzOTYuODM5IDQxNi4yMzRMMzk2LjczNSA0MTUuNzExQzQ0Ni42NjkgMzk5LjUxOSA0NzAuMDY5IDM2Ny4wMzEgNDc0LjE0MyAzMjQuODI3QzQwMi4wNjMgMzgzLjIyMyAyODguMTk2IDMxMC44MjkgMzExLjgwNSAyMjAuMTU0QzQxLjI0MjUgMzUzLjM0NiAxNDEuNzM3IDc4NS40MTEgNDQ4LjQ0NSA3ODAuMDgzQzU4Mi4wNTUgNzgwLjA4MyA2OTUuMDg1IDY5MS43MDYgNzMyLjE3IDU3MC4yMTRDNzc2LjQ2MyA0MjguNTYxIDcwNC44IDI3Ny42MDkgNTc3LjI0OSAyMTUuOTc1WiIgZmlsbD0iIzEyRkU3NCIvPgo8L3N2Zz4K';\n  supportedTransactionVersions = null;\n  _connecting;\n  _wallet;\n  _publicKey;\n  _decryptPermission;\n  _readyState = typeof window === 'undefined' || typeof document === 'undefined' ? WalletReadyState.Unsupported : WalletReadyState.NotDetected;\n  constructor({} = {}) {\n    super();\n    this._connecting = false;\n    this._wallet = null;\n    this._publicKey = null;\n    this._decryptPermission = DecryptPermission.NoDecrypt;\n    if (this._readyState !== WalletReadyState.Unsupported) {\n      scopePollingDetectionStrategy(() => {\n        if (window?.foxwallet && window.foxwallet?.aleo) {\n          this._readyState = WalletReadyState.Installed;\n          this.emit('readyStateChange', this._readyState);\n          return true;\n        }\n        return false;\n      });\n    }\n  }\n  get publicKey() {\n    return this._publicKey;\n  }\n  get decryptPermission() {\n    return this._decryptPermission;\n  }\n  get connecting() {\n    return this._connecting;\n  }\n  get readyState() {\n    return this._readyState;\n  }\n  set readyState(readyState) {\n    this._readyState = readyState;\n  }\n  async decrypt(cipherText, tpk, programId, functionName, index) {\n    try {\n      const wallet = this._wallet;\n      if (!wallet || !this.publicKey) throw new WalletNotConnectedError();\n      switch (this._decryptPermission) {\n        case DecryptPermission.NoDecrypt:\n          throw new WalletDecryptionNotAllowedError();\n        case DecryptPermission.UponRequest:\n        case DecryptPermission.AutoDecrypt:\n        case DecryptPermission.OnChainHistory:\n          {\n            try {\n              const text = await wallet.decrypt(cipherText, tpk, programId, functionName, index);\n              return text.text;\n            } catch (error) {\n              throw new WalletDecryptionError(error?.message, error);\n            }\n          }\n        default:\n          throw new WalletDecryptionError();\n      }\n    } catch (error) {\n      this.emit('error', error);\n      throw error;\n    }\n  }\n  async requestRecords(program) {\n    try {\n      const wallet = this._wallet;\n      if (!wallet || !this.publicKey) throw new WalletNotConnectedError();\n      try {\n        const result = await wallet.requestRecords(program);\n        return result.records;\n      } catch (error) {\n        throw new WalletRecordsError(error?.message, error);\n      }\n    } catch (error) {\n      this.emit('error', error);\n      throw error;\n    }\n  }\n  async requestTransaction(transaction) {\n    try {\n      const wallet = this._wallet;\n      if (!wallet || !this.publicKey) throw new WalletNotConnectedError();\n      try {\n        const result = await wallet.requestTransaction(transaction);\n        return result.transactionId || '';\n      } catch (error) {\n        throw new WalletTransactionError(error?.message, error);\n      }\n    } catch (error) {\n      this.emit('error', error);\n      throw error;\n    }\n  }\n  async requestExecution(transaction) {\n    try {\n      const wallet = this._wallet;\n      if (!wallet || !this.publicKey) throw new WalletNotConnectedError();\n      try {\n        const result = await wallet.requestExecution(transaction);\n        return result.transactionId || '';\n      } catch (error) {\n        throw new WalletTransactionError(error?.message, error);\n      }\n    } catch (error) {\n      this.emit('error', error);\n      throw error;\n    }\n  }\n  async requestBulkTransactions(transactions) {\n    try {\n      const wallet = this._wallet;\n      if (!wallet || !this.publicKey) throw new WalletNotConnectedError();\n      try {\n        const result = await wallet.requestBulkTransactions(transactions);\n        return result.transactionIds || [''];\n      } catch (error) {\n        throw new WalletTransactionError(error?.message, error);\n      }\n    } catch (error) {\n      this.emit('error', error);\n      throw error;\n    }\n  }\n  async requestDeploy(deployment) {\n    try {\n      const wallet = this._wallet;\n      if (!wallet || !this.publicKey) throw new WalletNotConnectedError();\n      try {\n        // @ts-ignore\n        const result = await wallet.requestDeploy(deployment);\n        return result.transactionId || '';\n      } catch (error) {\n        throw new WalletTransactionError(error?.message, error);\n      }\n    } catch (error) {\n      this.emit('error', error);\n      throw error;\n    }\n  }\n  async transactionStatus(transactionId) {\n    try {\n      const wallet = this._wallet;\n      if (!wallet || !this.publicKey) throw new WalletNotConnectedError();\n      try {\n        const result = await wallet.transactionStatus(transactionId);\n        return result.status;\n      } catch (error) {\n        throw new WalletTransactionError(error?.message, error);\n      }\n    } catch (error) {\n      this.emit('error', error);\n      throw error;\n    }\n  }\n  async getExecution(transactionId) {\n    try {\n      const wallet = this._wallet;\n      if (!wallet || !this.publicKey) throw new WalletNotConnectedError();\n      try {\n        const result = await wallet.getExecution(transactionId);\n        return result.execution;\n      } catch (error) {\n        throw new WalletTransactionError(error?.message, error);\n      }\n    } catch (error) {\n      this.emit('error', error);\n      throw error;\n    }\n  }\n  async requestRecordPlaintexts(program) {\n    try {\n      const wallet = this._wallet;\n      if (!wallet || !this.publicKey) throw new WalletNotConnectedError();\n      try {\n        const result = await wallet.requestRecordPlaintexts(program);\n        return result.records;\n      } catch (error) {\n        throw new WalletRecordsError(error?.message, error);\n      }\n    } catch (error) {\n      this.emit('error', error);\n      throw error;\n    }\n  }\n  async requestTransactionHistory(program) {\n    try {\n      const wallet = this._wallet;\n      if (!wallet || !this.publicKey) throw new WalletNotConnectedError();\n      try {\n        const result = await wallet.requestTransactionHistory(program);\n        return result.transactions;\n      } catch (error) {\n        throw new WalletRecordsError(error?.message, error);\n      }\n    } catch (error) {\n      this.emit('error', error);\n      throw error;\n    }\n  }\n  async connect(decryptPermission, network, programs) {\n    try {\n      if (this.connected || this.connecting) return;\n      if (this._readyState !== WalletReadyState.Installed) throw new WalletNotReadyError();\n      this._connecting = true;\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      const wallet = window.foxwallet && window.foxwallet.aleo;\n      try {\n        if (wallet) await wallet.connect(decryptPermission, network, programs);\n        if (!wallet?.publicKey) {\n          throw new WalletConnectionError();\n        }\n        this._publicKey = wallet.publicKey;\n      } catch (error) {\n        throw new WalletConnectionError(error?.message, error);\n      }\n      this._wallet = wallet;\n      this._decryptPermission = decryptPermission;\n      this.emit('connect', this._publicKey);\n    } catch (error) {\n      this.emit('error', error);\n      throw error;\n    } finally {\n      this._connecting = false;\n    }\n  }\n  async disconnect() {\n    const wallet = this._wallet;\n    if (wallet) {\n      // wallet.off('disconnect', this._disconnected);\n      this._wallet = null;\n      this._publicKey = null;\n      try {\n        await wallet.disconnect();\n      } catch (error) {\n        this.emit('error', new WalletDisconnectionError(error?.message, error));\n      }\n    }\n    this.emit('disconnect');\n  }\n  async signMessage(message) {\n    try {\n      const wallet = this._wallet;\n      if (!wallet || !this.publicKey) throw new WalletNotConnectedError();\n      try {\n        const signature = await wallet.signMessage(message);\n        return signature.signature;\n      } catch (error) {\n        throw new WalletSignTransactionError(error?.message, error);\n      }\n    } catch (error) {\n      this.emit('error', error);\n      throw error;\n    }\n  }\n}","map":{"version":3,"names":["BaseMessageSignerWalletAdapter","scopePollingDetectionStrategy","WalletConnectionError","WalletDisconnectionError","WalletNotConnectedError","WalletNotReadyError","WalletReadyState","WalletSignTransactionError","WalletDecryptionNotAllowedError","WalletDecryptionError","WalletRecordsError","DecryptPermission","WalletTransactionError","FoxWalletName","FoxWalletAdapter","name","url","icon","supportedTransactionVersions","_connecting","_wallet","_publicKey","_decryptPermission","_readyState","window","document","Unsupported","NotDetected","constructor","NoDecrypt","foxwallet","aleo","Installed","emit","publicKey","decryptPermission","connecting","readyState","decrypt","cipherText","tpk","programId","functionName","index","wallet","UponRequest","AutoDecrypt","OnChainHistory","text","error","message","requestRecords","program","result","records","requestTransaction","transaction","transactionId","requestExecution","requestBulkTransactions","transactions","transactionIds","requestDeploy","deployment","transactionStatus","status","getExecution","execution","requestRecordPlaintexts","requestTransactionHistory","connect","network","programs","connected","disconnect","signMessage","signature"],"sources":["../src/fox.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}